var ChromeProxy=function(){};ChromeProxy.prototype.set=function(o){$.get("../js/rules.json",function(t){for(var r=JSON.parse(t),n=getStorage("customRules"),s="var FindProxyForURL = function(url, host) {          var D = 'DIRECT';          var P = '"+o+"';          if (shExpMatch(host, '10.[0-9]+.[0-9]+.[0-9]+')) return D;          if (shExpMatch(host, '172.[0-9]+.[0-9]+.[0-9]+')) return D;          if (shExpMatch(host, '192.168.[0-9]+.[0-9]+')) return D;          if (shExpMatch(host, '127.[0-9]+.[0-9]+.[0-9]+')) return D;          if (dnsDomainIs(host, 'localhost')) return D;          if (dnsDomainIs(host, 'lubotv.com')) return D;          if (dnsDomainIs(host, 'shicishe.com')) return D;          if (dnsDomainIs(host, 'tianyantong.xyz')) return D;",e=0;e<r.length;e++)s+="if (dnsDomainIs(host, '"+r[e]+"')) return P;";if(log(n),n&&n.length>0)for(var e=0;e<n.length;e++)s+="if (dnsDomainIs(host, '"+n[e]+"')) return P;";s+="return D;",s+="}",log(s),chrome.proxy.settings.set({value:{mode:"pac_script",pacScript:{data:s}},scope:"regular"},function(){activeIcon(),log("ok")})})},ChromeProxy.prototype.close=function(o){chrome.proxy.settings.set({value:{mode:"pac_script",pacScript:{data:'function FindProxyForURL(url, host){ return "DIRECT";}'}},scope:"regular"},function(){grayIcon(),log("closed"),"function"==typeof o&&o()})};