function setStorage(o,n){window.localStorage[o]=JSON.stringify(n)}function getStorage(o){var n=null;return void 0!==window.localStorage[o]&&(n=JSON.parse(window.localStorage[o])),n}function clearStorage(o){window.localStorage.removeItem(o)}function showChromeNotifications(o,n){o=o||{title:"Notice title",message:"Notice info."};var e=n||function(){},t={type:"basic",title:o.title,iconUrl:config_parm.icon_active_url,message:o.message};chrome.notifications.create(o.id,t,e)}function openTab(o,n){chrome.tabs.create({url:o,selected:n})}function getDomain(o){if(-1!=o.indexOf("chrome-extension://")||-1!=o.indexOf("chrome://"))return!1;o=o.indexOf("://")>-1?o.split("/")[2]:o.split("/")[0],o=o.split(":")[0],o=o.split(".");var n=o.length;return 2===n?o.join("."):o[n-2]+"."+o[n-1]}function grayIcon(){chrome.browserAction.setIcon({path:config_parm.icon_gray_url})}function activeIcon(){chrome.browserAction.setIcon({path:config_parm.icon_active_url})}function showConflictTips(o){chrome.browserAction.setBadgeText({text:o.toString()}),chrome.browserAction.setBadgeBackgroundColor({color:[250,46,0,200]})}function showConflicNumbers(){Conflictor.getConflict(function(o){console.log(o);var n=o.length;0===n&&(n=""),showConflictTips(n)})}var config_parm={icon_active_url:"../images/logo.png",icon_gray_url:"../images/logo_gray.png"};$(".openTabLink").on("click",function(o){o.preventDefault(),openTab($(this).attr("href"),!0)});var Conflictor={getConflict:function(o){var n=chrome.runtime.id,e=[];chrome.management.getAll(function(t){$.each(t,function(o,t){t.enabled&&"extension"==t.type&&$.each(t.permissions,function(o,i){"proxy"==i&&t.id!=n&&(console.log(t),e.push(t))})}),o(e)})},disabled:function(o,n){chrome.management.setEnabled(o,!1,function(){showChromeNotifications({title:"Chrome\u63d2\u4ef6\u7981\u7528\u63d0\u9192",message:'"'+n+'" \u63d2\u4ef6\u7981\u7528\u6210\u529f!'})})},uninstall:function(o,n){chrome.management.uninstall(o,function(){showChromeNotifications({title:"Chrome\u63d2\u4ef6\u5378\u8f7d\u63d0\u9192",message:'"'+n+'" \u63d2\u4ef6\u5378\u8f7d\u6210\u529f!'})})}};document.oncontextmenu=function(){return!1};